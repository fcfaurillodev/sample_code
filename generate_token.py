import base64
from datetime import datetime, timedelta
from app.utils.jwt_authentication import JWTAuthentication

CLIENT_PRIVATE_KEY = 'LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRREFoeDFvVFlRck5BSzYKRXpIdkhkVXJsRmJpTFFrWEg2QmtHaitra1h2THRaREo4OStVNUE3VlpYVWxrRFU5NDY0cVBRMzNIOU00cC92cApVdFEvYzdUTXZISFU5VlZzR3gxc2Z2YlJjcVYxeUlKNkFIYThISmNwdFkzMjJuVndqOHUyZXNWRG5lYnEyeGZnCkhOWTRZQU5VenhBc2tBNGRLT0YwRXBmQVZzNlFyRDVBSHpEN1JtOWo0Rkd1V3RQRHFDOC9JYjg3RWZXUC9ibkUKT2kyaVlmVmFLM1ZsS3Fkc1J6elAxdGNZeEM0QjZodmJXSitxYnRsNUdxZEpsN3F6WnlHbkpnYWlTam93OEU4cQpMa1c3NjdvSXpOVENZZ0xPU21GT09JZWNkbk5TdFBZU0kxZWsxMFppbTJ4YVpYQzdvN3RrUFJ0VE9FWTF4M09RCm4yMm5zRG1sQWdNQkFBRUNnZ0VBYjRZVkQ5VlBTV053Yk84dmpxNitTK2M2eVB1RGQ0U1hlVVVITnNJYmJ1NDIKOS9VdnYyUzMvdjh0Yzl2c0szU1c3OXE4R3pteE5mR0E2REJWeUlleTVLSUlZbTdXMDYrRlJOTHJFSHFUdy8ycApMeGpUcnJYMURuRWYwaTNMdDY5a05zazVPYWpmR1k1ZWJ6RGxHblRybVJYMDdZdG8wWlZidTh3RllhSW5OLys5ClBOb2FhWnFMMUZxOXZaZDZpcVl3Z1RaQjc3Sy9mTThRVE9JZnJpbWNLNzgxUXlxZWRxZXFzUmx5cGhGcUh3VnUKS0dSSm0zQWhkTjRTZDJHdm4zU1cwS2YxU01Tb2I4TEZZRUsvNDEwUlQwT1hmYi9SRHpwZmlKLy9aQ0o1SDZXLwptaW9ZS1dtd2ZhQkY4aWN2cmRlMWs1Z0F2OHFrR0NSMHljaDdmMUVTcFFLQmdRRGYrUGtZOVRLcW85V2FrYVhvCnloaW5CRG9Fd3gyTURycFpUMzlKTm9vMXZoNktpOTZYZFpXVmFDTlROSHlRTENaMmUwNEJJQ0ljY21OTXFwbmYKWlBFcEFUdWptMWo4cEtlQzZOR21ZWEJUZ3k3WjlHdTJaVVRISzJ6U2RhaTRvVTRiaXlHbWVIeWFhK3VOV1pTawpXTElGekxYTzZGbXBzRDE5c01majQ2SlBRd0tCZ1FEY0R3amNBSzBRUTNYVmErZ1VSd0QzL2gxdWtLaHdqRXhtCkV0Y0NLOWJRellmeHJXZXpCK2kwYStOUWJlWVhrOXR4T1F4UDJMVUdvV3VBZTNQdFRiNmR2c3pmRDNyYURZd2YKaGRBMEY0K05Uc3M2eUtCQS9rdzc4YXFhcCtURFZKbVA5MUh6TGxucXlIZ2lDeFFFanhQQkJScmdMSFRxZjBPSwpIUFNrQzlkQTl3S0JnUUN2SlpJV2xGamszRzRFQy9ZRVQxWnI5WUF4alN1a0JUaHc4eHdFOHVPdUYxam0yMjVjClh4VjAyeFVVMGl5K3llZmlLNWJhaG5obWFvV0F4TUREMDdwTGFLMXN5ZVVTM09ncUZVc3RvM0VsdmFaN3h3b2MKZnFFRVo4OFgzZTd0UXlkRG5zL1gwTTBRTFdqdEJxcVl3c3VrZ1d1RHZHdXhxU0xORWR1Zk9Mb0s1UUtCZ0RmUQpJR0VjVXNpak00bXoycUw1OTBidXpxd3lTR1p6VHhVOGhnZm84b3oyOUJuWjcwazdJa3hRYU5FSGJxcGdOL0laCmxBUFVaT1dQbjJKdzdWQXN2Y0hvbUxHaWpYZ3NvM09EVHZGSFlJTm9qcWNVSjRFVWZtVmR2L1dGeThHMi9WUEUKV0thakJPOUZkU0s5U0pCM2NYMHRQRW5MUE1RVkR4NUNoZEh0cHVTMUFvR0FJVmlFTDdLZURkS3NlMDVGQklhegpBbm53cFp0VGRVdDVscHVCZzZCNjg4aEhFWDlWN1RJT1I3dEgwQ1RWb1FDdE15L1BiRkVabjhUVFo3SWtRNmxPCjRROGZXUXU4MU5xd0tqaTFXbHZsRTgvblpPS2pYTkFmdGlVdFRoRnRUL0dncmRJTHAySVp6cWNVeTFqdldBaXcKck1yenlmUkJqNlpkM1hmWThvUlBUaTQ9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0='
CLIENT_AUDIENCE = 'f9b3cb87-a0e9-4e1b-8077-f1c6337fd903'
private_key = base64.b64decode(CLIENT_PRIVATE_KEY).decode()
payload = {
    "sample_payload": 'sample_payload',
    "aud": CLIENT_AUDIENCE,
    "exp": datetime.now() + timedelta(minutes=30)
}

token = JWTAuthentication(audience=CLIENT_AUDIENCE, private_key=private_key).encode(payload=payload)
result = token.decode('utf-8')
print(f'Bearer {result}')
